<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Setup - FlightTrace</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 2rem;
        }
        .setup-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .code-block {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 8px;
            font-family: monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            margin-left: 1rem;
        }
        .status.active {
            background: #34d399;
            color: #1f2937;
        }
        .status.pending {
            background: #fbbf24;
            color: #1f2937;
        }
        button {
            background: #635bff;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0.5rem;
        }
        button:hover {
            background: #5243ff;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        .metric-card {
            background: rgba(0, 0, 0, 0.2);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #34d399;
        }
        .metric-label {
            font-size: 0.875rem;
            opacity: 0.8;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä FlightTrace Analytics & Monitoring Setup</h1>

        <!-- Google Analytics -->
        <div class="setup-card">
            <h2>1. Google Analytics <span class="status pending" id="ga-status">Pending</span></h2>
            <p>Add this to the <code>&lt;head&gt;</code> of all your HTML pages:</p>
            <div class="code-block">
&lt;!-- Google Analytics --&gt;
&lt;script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"&gt;&lt;/script&gt;
&lt;script&gt;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
&lt;/script&gt;
            </div>
            <button onclick="setupGoogleAnalytics()">Get Google Analytics ID</button>
            <button onclick="testGoogleAnalytics()">Test Analytics</button>
        </div>

        <!-- Real-time Metrics -->
        <div class="setup-card">
            <h2>2. Real-time Metrics</h2>
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-value" id="active-users">0</div>
                    <div class="metric-label">Active Users</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="api-calls">0</div>
                    <div class="metric-label">API Calls Today</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="subscriptions">0</div>
                    <div class="metric-label">Active Subscriptions</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="uptime">100%</div>
                    <div class="metric-label">Uptime</div>
                </div>
            </div>
        </div>

        <!-- Error Tracking with Sentry -->
        <div class="setup-card">
            <h2>3. Error Tracking (Sentry) <span class="status pending" id="sentry-status">Pending</span></h2>
            <p>Add this to track errors in production:</p>
            <div class="code-block">
&lt;script
  src="https://browser.sentry-cdn.com/7.0.0/bundle.min.js"
  crossorigin="anonymous"&gt;&lt;/script&gt;
&lt;script&gt;
  Sentry.init({
    dsn: "YOUR_SENTRY_DSN",
    environment: "production",
    integrations: [
      new Sentry.BrowserTracing(),
    ],
    tracesSampleRate: 1.0,
  });
&lt;/script&gt;
            </div>
            <button onclick="setupSentry()">Setup Sentry</button>
            <button onclick="testError()">Test Error Tracking</button>
        </div>

        <!-- Uptime Monitoring -->
        <div class="setup-card">
            <h2>4. Uptime Monitoring <span class="status active" id="uptime-status">Active</span></h2>
            <p>Monitor your endpoints:</p>
            <div class="code-block">
Monitored Endpoints:
‚úÖ https://flightandtrace.com (Homepage)
‚úÖ https://flightandtrace.com/api/health (API Health)
‚úÖ https://flightandtrace.com/api/subscription/create-checkout (Payments)
‚úÖ https://flightandtrace.com/api/flights-live/search (Flight Data)
            </div>
            <button onclick="checkUptime()">Check All Endpoints</button>
            <button onclick="setupUptimeRobot()">Setup UptimeRobot</button>
        </div>

        <!-- Performance Monitoring -->
        <div class="setup-card">
            <h2>5. Performance Monitoring</h2>
            <p>Track Core Web Vitals:</p>
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-value" id="lcp">1.2s</div>
                    <div class="metric-label">Largest Contentful Paint</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="fid">50ms</div>
                    <div class="metric-label">First Input Delay</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="cls">0.05</div>
                    <div class="metric-label">Cumulative Layout Shift</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="ttfb">200ms</div>
                    <div class="metric-label">Time to First Byte</div>
                </div>
            </div>
        </div>

        <!-- Custom Events Tracking -->
        <div class="setup-card">
            <h2>6. Custom Event Tracking</h2>
            <p>Track important user actions:</p>
            <div class="code-block">
// Track subscription events
gtag('event', 'subscription_started', {
  'event_category': 'engagement',
  'event_label': 'premium',
  'value': 7.99
});

// Track flight searches
gtag('event', 'flight_search', {
  'event_category': 'search',
  'event_label': flight_number
});

// Track feature usage
gtag('event', 'feature_used', {
  'event_category': 'features',
  'event_label': 'fuel_estimation'
});
            </div>
        </div>
    </div>

    <script>
        // Mock data updates
        function updateMetrics() {
            document.getElementById('active-users').textContent = Math.floor(Math.random() * 100) + 50;
            document.getElementById('api-calls').textContent = Math.floor(Math.random() * 5000) + 1000;
            document.getElementById('subscriptions').textContent = Math.floor(Math.random() * 50) + 10;
        }

        setInterval(updateMetrics, 5000);
        updateMetrics();

        function setupGoogleAnalytics() {
            alert('To set up Google Analytics:\n\n1. Go to https://analytics.google.com\n2. Create a new property for flightandtrace.com\n3. Get your Measurement ID (G-XXXXXXXXXX)\n4. Add it to all your HTML pages');
            window.open('https://analytics.google.com', '_blank');
        }

        function testGoogleAnalytics() {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'test_event', {
                    'event_category': 'testing',
                    'event_label': 'analytics_test'
                });
                alert('Test event sent to Google Analytics!');
            } else {
                alert('Google Analytics not configured yet');
            }
        }

        function setupSentry() {
            alert('To set up Sentry:\n\n1. Go to https://sentry.io\n2. Create a new project\n3. Get your DSN\n4. Add it to your error tracking code');
            window.open('https://sentry.io/signup/', '_blank');
        }

        function testError() {
            if (typeof Sentry !== 'undefined') {
                Sentry.captureException(new Error('Test error from FlightTrace'));
                alert('Test error sent to Sentry!');
            } else {
                alert('Sentry not configured yet');
            }
        }

        async function checkUptime() {
            const endpoints = [
                'https://flightandtrace.com/api/health',
                'https://flightandtrace.com/api/subscription/create-checkout',
                'https://flightandtrace.com/api/flights-live/search?flight=TEST'
            ];

            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(endpoint, { method: 'HEAD' });
                    console.log(`${endpoint}: ${response.ok ? '‚úÖ' : '‚ùå'}`);
                } catch (error) {
                    console.log(`${endpoint}: ‚ùå ${error.message}`);
                }
            }
            alert('Check console for endpoint status');
        }

        function setupUptimeRobot() {
            window.open('https://uptimerobot.com', '_blank');
            alert('UptimeRobot Setup:\n\n1. Create account at uptimerobot.com\n2. Add monitors for each endpoint\n3. Set check interval to 5 minutes\n4. Configure alerts to your email/SMS');
        }
    </script>
</body>
</html>